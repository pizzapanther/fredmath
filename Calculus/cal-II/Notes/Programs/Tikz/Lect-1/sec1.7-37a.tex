\documentclass{article}
\usepackage{tikz}
\usepackage{verbatim}
\usepackage[active,tightpage]{preview}
\PreviewEnvironment{tikzpicture}
\setlength{\PreviewBorder}{5pt}

\begin{document}
\begin{tikzpicture}

 \fill [gray!10 ]  (0, 0) -- (4, .44) -- (4, .8) -- (0, .8) -- (0, 0) ;
 \fill [gray!40 ]  (0, 0) -- (4, .44) -- (0, .44) -- (0, 0) ;
 \draw [  thick ]  (0, 0) -- (4, .44) -- (4, .8) -- (0, .8) -- (0, 0) ;
 \draw [thick] (0, .44) -- (4, .44) ;
\draw [thick, ->] (-.5, 0) -- (4.5, 0) ;
 \draw (4.7, 0) node { $x$} ;
 \draw[thick, ->] (0, -.5) -- (0, 1.5);
 \draw (0, 1.7) node { $y$} ;

  \draw (-.15, .8) node { \footnotesize 8 } ;
  \draw (-.15, .4) node { \footnotesize 4 } ;  
  \draw [red] (2, 1) node {\footnotesize $w(y)$=40} ;  
 \fill [red] (0, .6) rectangle (4, .55) ;
 \fill [blue] (0, .2) rectangle (1.8, .25) ;
  \draw [blue] (1.2, -.25) node {\footnotesize $L(y)$=$x$} ; 
  \draw [->, thick] (.7, -.2) -- (.4, .175) ;

 \draw [ <->] (-.4, .25) -- (-.4, .8) ;
 \draw  (-.7, .55) node { \footnotesize 8-$y$} ;
 \draw [cyan, dashed, thick] (-.5, .225) -- (-.05, .225) ;
 \draw [cyan, dashed ] (-.5, .8) -- (-.05, .8) ;
\end{tikzpicture}
\end{document}
